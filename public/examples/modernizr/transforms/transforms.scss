@mixin background-size($width, $height) {
	-webkit-background-size: $width $height;
	background-size: $width $height;
}

@mixin box-sizing($mode) {
	-moz-box-sizing: $mode;
	-webkit-box-sizing: $mode;
	box-sizing: $mode;
}

@mixin vendorize($property, $value) {
	-moz-#{$property}: $value;
	-ms-#{$property}: $value;
	-webkit-#{$property}: $value;
	-o-#{$property}: $value;
	#{$property}: $value;
}

@mixin vendor-transition($property, $duration, $ease) {
	-moz-transition: -moz-#{$property} $duration $ease;
	-ms-transition: -ms-#{$property} $duration $ease;
	-o-transition: -o-#{$property} $duration $ease;
	-webkit-transition: -webkit-#{$property} $duration $ease;
	transition: $property $duration $ease;
}

@mixin transform($transform) {
	@include vendorize(transform, $transform);
}

@mixin transform-origin($origin) {
	@include vendorize(transform-origin, $origin);
}

@-webkit-keyframes move-back {
  0% { -webkit-transform: translateZ(0) rotateY(0); }
  20% { -webkit-transform: translateZ(-200px) rotateY(0); }
  80% { -webkit-transform: translateZ(-200px) rotateY(180deg); }
  100% { -webkit-transform: translateZ(-200px) rotateY(180deg); }
}

@-webkit-keyframes move-front {
  0% { -webkit-transform: translateZ(0) rotateY(-180deg); }
  20% { -webkit-transform: translateZ(-200px) rotateY(-180deg); }
  80% { -webkit-transform: translateZ(-200px) rotateY(0); }
  100% { -webkit-transform: translateZ(0) rotateY(0); }
}

body {
	background-color: #B0BFC8;
	
	font-family: 'Segoe UI', Tahoma, Arial, Helvetica, Sans-Serif;
	font-size: 14px;
	
	.backgroundsize & {
		background-image: url(background.png);
		background-repeat: no-repeat;
		background-attachment: fixed;
		@include background-size(100%, 100%);
	}
}

$box-margin: 10px;
$sidebar-width: 300px;
$header-height: 75px;
$toolbar-height: 75px;

.not-ready {
	background-color: white;
	border: solid 1px black;
	opacity: 0.4;
	text-align: center;
	font-weight: bold;
}

.header, .toolbar, .screens, .sidebar {
	position: absolute;
	@include box-sizing(border-box);
}

.sidebar {
	margin: $box-margin;
	right: 0;
	width: 300px;
	bottom: 0;
	top: 0;
}

.header, .toolbar, .screens {
	left: 0;
	right: 300px + $box-margin;
	margin: $box-margin;
}

.header {
	top: 0;
	height: $header-height;
}

.toolbar {
	top: $header-height;
	height: $toolbar-height;
}

.screens {
	top: $header-height + $toolbar-height;
	bottom: 0;
	
	#screen-1 {
		background-color: red;
	}
	
	#screen-2 {
		background-color: blue;
	}
	
	.screen {
		position: absolute;
		top: 0; bottom: 0;
		left: 0; right: 0;
		opacity: 0.6;
	}
	
	
	-webkit-perspective: 1000;

	.screen {
		display: none;
		-webkit-transform-style: preserve-3d;
	 	-webkit-box-sizing: border-box;
		-webkit-backface-visibility: hidden;

		&.front, &.back, &.initial {
			display: block;
		}

		&.front {
			-webkit-animation-name: move-front;
			-webkit-animation-duration: 1.5s;
			-webkit-transform: translateZ(0) rotateY(0);
		}

		&.back {
			-webkit-animation-name: move-back;
			-webkit-animation-duration: 1.5s;
			-webkit-transform: translateZ(-200px) rotateY(180deg);
		}
	}
}




/*
html.csstransforms & {
	overflow: hidden;
	
	.screen {
		@include transform( scale(0) );
		@include transform-origin( 100% 100% );
		@include vendor-transition(transform, 1s, ease-in-out);
	
		&.front, &.initial {
			@include transform-origin( 0 0 );
			@include transform( scale(1) );
		}
	}
}
*/